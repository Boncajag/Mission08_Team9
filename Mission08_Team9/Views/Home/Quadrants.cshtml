@model List<ToDoTask>

@{
    ViewData["Title"] = "Task Quadrants";
}

<h1 class="text-center my-4 fw-bold text-dark">Task Quadrants</h1>

<div class="container">
    <div class="row g-4">
        <!-- Quadrant I -->
        <div class="col-md-6">
            <div class="p-4 border border-2 border-dark shadow-sm rounded bg-light">
                <h3 class="fw-bold text-center">Quadrant I (Important/Urgent)</h3>
                <hr>
                @if (Model.Any(t => t.Quadrant == 1))
                {
                    <ul class="list-group">
                        @foreach (var task in Model.Where(t => t.Quadrant == 1))
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                <span class="fw-semibold">@task.TaskName - <span class="text-muted">Due: @task.DueDate</span></span>
                                <span>
                                    <a asp-controller="Home" asp-action="Edit" asp-route-id="@task.TaskId" class="btn btn-outline-dark btn-sm">‚úè Edit</a>
                                    <!-- Delete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="Delete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">üóë Delete</button>
                                    </form>

                                    <!-- Complete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">‚úÖ Complete</button>
                                    </form>
                                </span>
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-center text-muted">No tasks in this quadrant.</p>
                }
            </div>
        </div>

        <!-- Quadrant II -->
        <div class="col-md-6">
            <div class="p-4 border border-2 border-dark shadow-sm rounded bg-light">
                <h3 class="fw-bold text-center">Quadrant II (Important/Not Urgent)</h3>
                <hr>
                @if (Model.Any(t => t.Quadrant == 2))
                {
                    <ul class="list-group">
                        @foreach (var task in Model.Where(t => t.Quadrant == 2))
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                <span class="fw-semibold">@task.TaskName - <span class="text-muted">Due: @task.DueDate</span></span>
                                <span>
                                    <a asp-controller="Home" asp-action="Edit" asp-route-id="@task.TaskId" class="btn btn-outline-dark btn-sm">‚úè Edit</a>
                                    <!-- Delete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="Delete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">üóë Delete</button>
                                    </form>

                                    <!-- Complete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">‚úÖ Complete</button>
                                    </form>
                                </span>
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-center text-muted">No tasks in this quadrant.</p>
                }
            </div>
        </div>

        <!-- Quadrant III -->
        <div class="col-md-6">
            <div class="p-4 border border-2 border-dark shadow-sm rounded bg-light">
                <h3 class="fw-bold text-center">Quadrant III (Not Important/Urgent)</h3>
                <hr>
                @if (Model.Any(t => t.Quadrant == 3))
                {
                    <ul class="list-group">
                        @foreach (var task in Model.Where(t => t.Quadrant == 3))
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                <span class="fw-semibold">@task.TaskName - <span class="text-muted">Due: @task.DueDate</span></span>
                                <span>
                                    <a asp-controller="Home" asp-action="Edit" asp-route-id="@task.TaskId" class="btn btn-outline-dark btn-sm">‚úè Edit</a>
                                    <!-- Delete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="Delete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">üóë Delete</button>
                                    </form>

                                    <!-- Complete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">‚úÖ Complete</button>
                                    </form>
                                </span>
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-center text-muted">No tasks in this quadrant.</p>
                }
            </div>
        </div>

        <!-- Quadrant IV -->
        <div class="col-md-6">
            <div class="p-4 border border-2 border-dark shadow-sm rounded bg-light">
                <h3 class="fw-bold text-center">Quadrant IV (Not Important/Not Urgent)</h3>
                <hr>
                @if (Model.Any(t => t.Quadrant == 4))
                {
                    <ul class="list-group">
                        @foreach (var task in Model.Where(t => t.Quadrant == 4))
                        {
                            <li class="list-group-item d-flex justify-content-between align-items-center shadow-sm">
                                <span class="fw-semibold">@task.TaskName - <span class="text-muted">Due: @task.DueDate</span></span>
                                <span>
                                    <a asp-controller="Home" asp-action="Edit" asp-route-id="@task.TaskId" class="btn btn-outline-dark btn-sm">‚úè Edit</a>
                                    <!-- Delete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="Delete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">üóë Delete</button>
                                    </form>

                                                                        <!-- Complete Button (Now Uses a Form) -->
                                    <form asp-controller="Home" asp-action="MarkComplete" asp-route-id="@task.TaskId" method="post" class="d-inline">
                                        <button type="submit" class="btn btn-outline-dark btn-sm">‚úÖ Complete</button>
                                    </form>
                                </span>
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <p class="text-center text-muted">No tasks in this quadrant.</p>
                }
            </div>
        </div>
    </div>
</div>
